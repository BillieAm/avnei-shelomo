---
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const testimonialsList = {
  he: [
    { name: "הרב מרדכי גרוס", title: "" },
    { name: "הרב ד״ר עקיבא טץ", title: "" },
    {
      name: "הרב דב רוזין",
      title: "רב ומו״ץ שכונת דרך החיים והאיזור וראש כולל דרך ההוראה",
    },
    { name: "הרב מרדכי עטיה", title: "ראש ישיבת ״החיים והשלום״" },
    { name: "הרב אהרן מיטלמן", title: "רב קרית אבי עזרי - מודיעין עלית" },
    { name: "הרב יואל פרידמן", title: "רב שכונת חזון איש, אבן האזל, אלעד" },
  ],
  en: [
    { name: "Rabbi Mordechai Gross", title: "" },
    { name: "Rabbi Dr.Akiva Tatz", title: "" },
    { name: "Rabbi Dov Rozin", title: "" },
    { name: "Rabbi Mordechai Attia", title: "" },
    { name: "Rabbi Aharon Mittelman", title: "" },
    { name: "Rabbi Yoel Friedman", title: "" },
  ],
};
---

<section class="container py-8 text-center">
  <h3 class="text-2xl font-bold tracking-widest text-foreground-200">
    {t("tes.title")}
  </h3>
  <div
    class="grid auto-cols-[20ch] grid-flow-col gap-8 overflow-x-auto overscroll-x-contain py-10 lg:inline-grid"
  >
    {
      testimonialsList[lang].map((tes) => (
        <article class="grid gap-4 rounded-2xl bg-gradient-to-b from-primary/50 p-4 shadow">
          <h4 class="font-bold">{tes.name}</h4>
          {tes.title && <p>{tes.title}</p>}
          <button class="self-end rounded-lg border border-foreground px-4 py-1 hover:bg-background">
            {t("tes.btn")}
          </button>
        </article>
      ))
    }
  </div>
</section>
